<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R-Net</title>

<style>
body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:#000;
    color:white;
    overflow-x:hidden;
}

/* Fundo estrelas */
body::before{
    content:"";
    position:fixed;
    width:100%;
    height:100%;
    background:radial-gradient(white 1px, transparent 1px);
    background-size:40px 40px;
    opacity:0.05;
    z-index:-2;
}

/* Aurora */
body::after{
    content:"";
    position:fixed;
    width:100%;
    height:100%;
    background:linear-gradient(120deg, #0f0c29, #302b63, #24243e);
    opacity:0.6;
    z-index:-3;
}

header{
    text-align:center;
    padding:40px 20px 20px;
}

header h1{
    letter-spacing:6px;
    font-size:26px;
}

nav{
    text-align:center;
    margin-bottom:30px;
}

nav a{
    color:white;
    text-decoration:none;
    margin:0 15px;
    font-size:14px;
    letter-spacing:2px;
    transition:0.3s;
}

nav a:hover{
    color:gold;
}

/* TOP 3 */
.destaque-top3{
    text-align:center;
    margin-top:30px;
}

.titulo-top3{
    font-size:18px;
    letter-spacing:6px;
    color:gold;
    margin-bottom:30px;
}

.top3-wrapper{
    display:flex;
    justify-content:center;
    gap:30px;
    flex-wrap:wrap;
}

.card-top3{
    background:#111;
    border-radius:18px;
    overflow:hidden;
    width:250px;
    transition:0.3s;
}

.card-top3 video{
    width:100%;
    height:300px;
    object-fit:cover;
}

.card-top3 .info{
    padding:12px;
}

.card-top3 h3{
    margin:6px 0;
    font-size:15px;
}

.card-top3 p{
    font-size:13px;
    color:#ccc;
}

.card-top3:hover{
    transform:scale(1.05);
    box-shadow:0 0 20px gold;
}

.primeiro{
    transform:scale(1.08);
}

footer{
    text-align:center;
    margin:60px 0 30px;
    font-size:12px;
    opacity:0.6;
}
</style>
</head>

<body>

<header>
    <h1>R-NET RPOP</h1>
</header>

<nav>
    <a href="#">Home</a>
    <a href="#">Charts</a>
    <a href="#">Artists</a>
    <a href="#">About</a>
</nav>

<section class="destaque-top3">
  <h2 class="titulo-top3">TOP 3 THIS WEEK</h2>

  <div class="top3-wrapper">

    <div class="card-top3 primeiro">
      <video id="mv1Video" muted loop autoplay></video>
      <div class="info">
        <h3 id="mv1Artist">Carregando...</h3>
        <p id="mv1Song"></p>
      </div>
    </div>

    <div class="card-top3">
      <video id="mv2Video" muted loop autoplay></video>
      <div class="info">
        <h3 id="mv2Artist">Carregando...</h3>
        <p id="mv2Song"></p>
      </div>
    </div>

    <div class="card-top3">
      <video id="mv3Video" muted loop autoplay></video>
      <div class="info">
        <h3 id="mv3Artist">Carregando...</h3>
        <p id="mv3Song"></p>
      </div>
    </div>

  </div>
</section>

<footer>
    © 2026 R-Net
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, query, orderBy, limit, getDocs }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBx7BsWrobnUbJ4hzToB_37070IdEzBkEc",
  authDomain: "rnet-social.firebaseapp.com",
  projectId: "rnet-social",
  storageBucket: "rnet-social.firebasestorage.app",
  messagingSenderId: "790663478354",
  appId: "1:790663478354:web:63f74fe51ea6d23948338b"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function carregarTop3(){

  const q = query(
    collection(db, "posts"),
    orderBy("likes", "desc"),
    limit(3)
  );

  const snapshot = await getDocs(q);

  let i = 1;

  snapshot.forEach((doc) => {

    const data = doc.data();

    document.getElementById(`mv${i}Video`).src = data.videoURL || "";
    document.getElementById(`mv${i}Artist`).innerText = data.artist || "Sem artista";
    document.getElementById(`mv${i}Song`).innerText = data.song || "Sem título";

    i++;
  });

}

carregarTop3();
</script>

</body>
</html>
