<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R-NET - Cadastro de Empresa</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f2f2f2;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 40px 0;
}

/* Container */
.container {
    width: 90%;
    max-width: 700px;
    background: #ffffff;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    padding: 30px 40px;
}

/* Título */
h1 {
    text-align: center;
    color: white;
    -webkit-text-stroke: 2px #ff2f7d;
    text-shadow: 0 0 6px rgba(255,47,125,0.5), 0 0 12px rgba(255,47,125,0.3);
    margin-bottom: 30px;
}

/* Campos */
label {
    display: block;
    margin: 12px 0 6px 0;
    font-weight: bold;
}

input, select, textarea {
    width: 100%;
    padding: 12px 15px;
    margin-bottom: 15px;
    border-radius: 30px;
    border: 1px solid #ddd;
    font-size: 16px;
    outline: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

input:focus, textarea:focus, select:focus {
    box-shadow: 0 0 12px rgba(255,47,125,0.4);
}

/* Botões */
button {
    width: 100%;
    padding: 16px;
    border-radius: 50px;
    border: none;
    background: linear-gradient(to bottom, #ff78b3 0%, #ff4f94 40%, #ff2f7d 100%);
    color: white;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 20px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
}

button:hover {
    transform: scale(1.03);
}

button:active {
    transform: scale(0.96);
    box-shadow: inset 0 2px 6px rgba(0,0,0,0.2);
}

/* Grupo e Solista Dinâmico */
.group-container, .solo-container {
    margin-bottom: 25px;
    padding: 15px;
    background: #ffe6f0;
    border-radius: 20px;
}
</style>
</head>

<body>
<div class="container">
    <h1>Cadastro de Empresa</h1>

    <!-- Empresa -->
    <label for="empresa">Nome da empresa:</label>
    <input type="text" id="empresa">

    <label for="ceo">Nome do(a) CEO:</label>
    <input type="text" id="ceo">

    <label for="tiktok">TikTok da empresa:</label>
    <input type="text" id="tiktok">

    <!-- Grupos -->
    <label for="numGrupos">Quantos grupos vão ser adicionados?</label>
    <input type="number" id="numGrupos" min="0">

    <div id="gruposDiv"></div>

    <!-- Solistas -->
    <label for="numSolistas">Quantos solistas vão ser adicionados?</label>
    <input type="number" id="numSolistas" min="0">

    <div id="solistasDiv"></div>

    <button onclick="salvarEmpresa()">Continuar</button>
</div>

<script>
// Cria inputs dinamicamente para Grupos e Solistas
document.getElementById("numGrupos").addEventListener("change", function() {
    const n = parseInt(this.value) || 0;
    const div = document.getElementById("gruposDiv");
    div.innerHTML = "";
    for (let i=0; i<n; i++) {
        const container = document.createElement("div");
        container.className = "group-container";
        container.innerHTML = `
            <h3>Grupo ${i+1}</h3>
            <label>Nome do grupo:</label>
            <input type="text" class="nomeGrupo">
            <label>Nome das integrantes (separe por vírgula):</label>
            <input type="text" class="integrantes">
            <label>Conceito do grupo:</label>
            <input type="text" class="conceitoGrupo">
            <label>Data do debut:</label>
            <input type="date" class="debutGrupo">
            <label>Nome do fandom:</label>
            <input type="text" class="fandomGrupo">
            <label>Cor do fandom:</label>
            <input type="color" class="corFandomGrupo">
        `;
        div.appendChild(container);
    }
});

document.getElementById("numSolistas").addEventListener("change", function() {
    const n = parseInt(this.value) || 0;
    const div = document.getElementById("solistasDiv");
    div.innerHTML = "";
    for (let i=0; i<n; i++) {
        const container = document.createElement("div");
        container.className = "solo-container";
        container.innerHTML = `
            <h3>Solista ${i+1}</h3>
            <label>Nome do solista:</label>
            <input type="text" class="nomeSolo">
            <label>Conceito do solista:</label>
            <input type="text" class="conceitoSolo">
            <label>Data do debut:</label>
            <input type="date" class="debutSolo">
            <label>Nome do fandom:</label>
            <input type="text" class="fandomSolo">
            <label>Cor do fandom:</label>
            <input type="color" class="corFandomSolo">
        `;
        div.appendChild(container);
    }
});

// Função salvar tudo
function salvarEmpresa() {
    const empresa = document.getElementById("empresa").value.trim();
    const ceo = document.getElementById("ceo").value.trim();
    const tiktok = document.getElementById("tiktok").value.trim();

    if (!empresa || !ceo) {
        alert("Preencha nome da empresa e CEO!");
        return;
    }

    // Cria ID único da empresa
    const empresaID = "empresa_" + Date.now() + "_" + Math.floor(Math.random()*1000);

    // Grupos
    const grupos = [];
    document.querySelectorAll(".group-container").forEach(container => {
        const grupoID = "grupo_" + Date.now() + "_" + Math.floor(Math.random()*1000);
        grupos.push({
            id: grupoID,
            nome: container.querySelector(".nomeGrupo").value.trim(),
            integrantes: container.querySelector(".integrantes").value.trim().split(",").map(s => s.trim()),
            conceito: container.querySelector(".conceitoGrupo").value.trim(),
            debut: container.querySelector(".debutGrupo").value,
            fandom: container.querySelector(".fandomGrupo").value.trim(),
            cor: container.querySelector(".corFandomGrupo").value
        });
    });

    // Solistas
    const solistas = [];
    document.querySelectorAll(".solo-container").forEach(container => {
        const soloID = "solo_" + Date.now() + "_" + Math.floor(Math.random()*1000);
        solistas.push({
            id: soloID,
            nome: container.querySelector(".nomeSolo").value.trim(),
            conceito: container.querySelector(".conceitoSolo").value.trim(),
            debut: container.querySelector(".debutSolo").value,
            fandom: container.querySelector(".fandomSolo").value.trim(),
            cor: container.querySelector(".corFandomSolo").value
        });
    });

    // Objeto final da empresa
    const empresaObj = {
        id: empresaID,
        nome: empresa,
        ceo: ceo,
        tiktok: tiktok,
        grupos: grupos,
        solistas: solistas
    };

    // Salvar no localStorage
    let todasEmpresas = JSON.parse(localStorage.getItem("empresasRnet")) || [];
    todasEmpresas.push(empresaObj);
    localStorage.setItem("empresasRnet", JSON.stringify(todasEmpresas));

    // Ir para home
    window.location.href = "home.html";
}
</script>
</body>
</html>
